// main: ../../../style.sass

/// Le module Accordion permet de cr√©er des accordions
/// rapidement
///
///
/// Exemple de HTML :
///
///   <li class="m-accordion">
///     <div class="m-accordion__titre">
///       <h3>Ici, le titre de l'accordion</h3>
///       <div class="m-accordion__ico">
///         <?php include './assets/img/ico_arrow-accordion.svg.php'; ?>
///       </div>
///     </div>
///     <div class="m-accordion__wrapper">
///       Ici, le contenu de l'accordion
///     </div>
///   </li>

.m-accordion
  display: flex
  flex-direction: column !important
  width: 100%
  &.is--active
    .m-accordion__ico
      transform: rotate(0deg)
      transition: transform .5s

    .m-accordion__wrapper
      opacity: 1
      max-height: 1000vh
      padding-bottom: $row__marge-bottom
      transition: $fast

  @include hover
    .m-accordion__titre
      &:before
        background: color('rouge', 50)
      span, h2
        color: color('rouge', 50)
        margin: 0 m(2.25)
        transition: $fast
    .m-accordion__ico svg
      stroke: color('rouge', 50)

.m-accordion__titre
  display: flex
  position: relative
  justify-content: space-between
  align-items: center
  width: 100%
  cursor: pointer
  border-bottom: 1px solid color('border-color')
  padding-bottom: m()
  margin-bottom: m()

  &:before
    content: ''
    position: absolute
    left: 0
    top: 2px
    width: m(1.75)
    height: m(1.75)
    border-radius: m(1.75)
    background: color('rouge', 50,0)
    z-index: 1

  &>span, h2
    font-family: font('sans-serif')
    color: color('rouge', 70)
    transition: $verySlow
    background: color('backgroundColor')
    z-index: 2

.m-accordion__ico
  margin-left: auto
  transform: rotate(-90deg)
  width: m()
  transition: .5s

  svg
    fill: none
    stroke: color('rouge', 80)
    stroke-width: m()

.m-accordion__wrapper
  display: flex
  max-height: 0
  margin: 0
  opacity: 0
  overflow: hidden
  transition: $fast
